// the configured options and settings for Arundos
#define Arundos_VERSION_MAJOR @Arundos_VERSION_MAJOR@
#define Arundos_VERSION_MINOR @Arundos_VERSION_MINOR@

#pragma once

#include "ae_descriptors.hpp"
#include "ae_device.hpp"
#include "ae_game_object.hpp"
#include "ae_window.hpp"
#include "ae_renderer.hpp"

#include <memory>
#include <vector>

namespace ae {
    class Arundos {
    public:
        // TODO Get ride of these public variables....
        static constexpr int WIDTH = 800;
        static constexpr int HEIGHT = 600;

        Arundos();
        ~Arundos();

        // Do not allow this class to be copied (2 lines below)
        Arundos(const Arundos&) = delete;
        Arundos& operator=(const Arundos&) = delete;

        void run();

    private:
        void loadGameObjects();

        
        AeWindow m_aeWindow{ WIDTH, HEIGHT, "Hello Vulkan!" };
        AeDevice m_aeDevice{ m_aeWindow };
        AeRenderer m_aeRenderer{m_aeWindow, m_aeDevice };

        // note: order of declarations matters
        // TODO to prevent order from mattering in app destructor make m_globalPool a null pointer to make sure it is destroyed before device is
        std::unique_ptr<AeDescriptorPool> m_globalPool{};
        AeGameObject::Map m_gameObjects;
    };
}  // namespace ae